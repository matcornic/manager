<div data-ui-view>
    <div class="mt-4">
        <cui-message-container
            data-messages="$ctrl.messages"
        ></cui-message-container>
    </div>

    <div class="row py-4">
        <div class="col-md-4">
            <oui-tile
                data-heading="{{ 'pci_notebooks_general_information_info_title' | translate }}"
            >

                <!--Name-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_info_notebook_name' | translate }}"
                    data-description="{{:: $ctrl.notebook.name }}"
                ></oui-tile-definition>

                <!--Editor-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_info_notebook_editor_code' | translate }}"
                    data-description="{{:: $ctrl.notebook.spec.env.editorId }}"
                ></oui-tile-definition>

                <!--Container-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_info_notebook_container' | translate }}"
                >
                    <!--Nb total container-->
                    <oui-tile-description>
                        <span
                            data-translate="pci_notebooks_general_information_info_notebook_container_total"
                            data-translate-values="{ xContainer: $ctrl.notebook.volumes.length }"
                        ></span>
                    </oui-tile-description>

                    <!--Nb swift container-->
                    <oui-tile-description>
                        <span
                            data-translate="pci_notebooks_general_information_info_notebook_container_swift_total"
                            data-translate-values="{ xContainer: $ctrl.notebook.geNbContainerByType($ctrl.NOTEBOOK_VOLUME_TYPE.SWIFT) }"
                        ></span>
                    </oui-tile-description>

                    <!--Nb git container-->
                    <oui-tile-description>
                        <span
                            data-translate="pci_notebooks_general_information_info_notebook_container_git_total"
                            data-translate-values="{ xContainer: $ctrl.notebook.geNbContainerByType($ctrl.NOTEBOOK_VOLUME_TYPE.GIT) }"
                        ></span>
                    </oui-tile-description>

                    <!--Add a tag-->
                    <oui-tile-description>
                        <oui-button
                            size="m"
                            variant="link"
                            icon-right="oui-icon-arrow-right"
                            data-on-click="$ctrl.goToAttachData()"
                        >
                            <span
                                data-translate="pci_notebooks_general_information_info_notebook_container_attach_data"
                            ></span>
                        </oui-button>
                    </oui-tile-description>
                </oui-tile-definition>

                <!--Tags-->
                <oui-tile-definition data-term="Tags">
                    <oui-tile-description>
                        <!--Tags-->
                        <oui-chips
                            data-items="$ctrl.notebook.spec.labels"
                            data-on-remove="$ctrl.onLabelRemove($ctrl.notebook.spec.labels, removed)"
                            closable
                        >
                        </oui-chips>

                        <!--Add a tag-->
                        <oui-button
                            size="m"
                            variant="link"
                            icon-right="oui-icon-arrow-right"
                            disabled="$ctrl.notebook.tagsLimitIsReached()"
                            data-on-click="$ctrl.addTag()"
                        >
                            <span
                                data-translate="pci_notebooks_general_information_info_notebook_tags_add"
                            ></span>
                        </oui-button>
                    </oui-tile-description>
                </oui-tile-definition>

                <!--Environment-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_info_notebook_env' | translate }}"
                    data-description="{{:: $ctrl.notebook.environment }}"
                ></oui-tile-definition>

                <!--Confidentiality-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_info_notebook_env_confidentiality' | translate }}"
                    data-description="{{:: $ctrl.notebook.user }}"
                ></oui-tile-definition>

                <!--Region-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_info_notebook_env_region' | translate }}"
                    data-description="{{:: $ctrl.notebook.extraRegionInfo }}"
                ></oui-tile-definition>
            </oui-tile>
        </div>

        <div class="col-md-4">
            <oui-tile
                data-heading="{{:: 'pci_notebooks_general_information_life_cycle_title' | translate }}"
            >
                <!--Status-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_life_cycle_status' | translate }}"
                >
                    <oui-tile-description>
                        <span
                            class="oui-badge"
                            data-ng-class="{
                              'oui-badge_success': $ctrl.notebook.stateInfo.stateGroup.success,
                              'oui-badge_warning': $ctrl.notebook.stateInfo.stateGroup.warning,
                              'oui-badge_error': $ctrl.notebook.stateInfo.stateGroup.error}"
                        >
                            <span
                                data-ng-bind="'pci_notebooks_general_information_life_cycle_status_' + $ctrl.notebook.stateInfo.state | translate"
                            ></span>
                        </span>
                    </oui-tile-description>
                </oui-tile-definition>

                <!--Running duration-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_life_cycle_running_duration_time' | translate }}"
                >
                    <oui-tile-description>
                        <span
                            class="block"
                            data-ng-bind=":: $ctrl.notebook.formattedRunningDuration"
                        ></span>
                        <a
                            data-ng-href="{{:: $ctrl.billingUrl }}"
                            class="oui-link_icon"
                        >
                            <span
                                data-translate="pci_notebooks_general_information_life_cycle_running_billing"
                            ></span>
                            <span
                                class="oui-icon oui-icon-arrow-right"
                                aria-hidden="true"
                            ></span>
                        </a>
                    </oui-tile-description>
                </oui-tile-definition>

                <!--Creation date-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_life_cycle_create_date' | translate }}"
                >
                    <oui-tile-description>
                        <span
                            class="block"
                            data-ng-bind=":: $ctrl.notebook.formattedCreationDate"
                        ></span>
                        <oui-button
                            size="m"
                            variant="link"
                            icon-right="oui-icon-arrow-right"
                            data-on-click="$ctrl.deleteNotebook()"
                        >
                            <span
                                data-translate="pci_notebooks_general_information_life_cycle_create_date_notebook_delete"
                            ></span>
                        </oui-button>
                    </oui-tile-description>
                </oui-tile-definition>

                <!--Timeline-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_life_cycle_timeline' | translate }}"
                    data-description="{{:: $ctrl.notebook.name }}"
                ></oui-tile-definition>
            </oui-tile>
        </div>

        <div class="col-md-4">
            <oui-tile
                data-heading="{{:: 'pci_notebooks_general_information_resources_title' | translate }}"
                data-loading="$ctrl.loading.instance"
            >
                <!--GPU-->
                <oui-tile-definition
                    data-term="{{:: $ctrl.NOTEBOOK_FLAVOR_TYPE.GPU }}"
                    data-description="{{:: $ctrl.notebook.spec.resources.gpu > 0 ? $ctrl.notebook.spec.resources.gpu : 'none' }}"
                ></oui-tile-definition>

                <!--CPU/RAM-->
                <oui-tile-definition
                    data-term="CPU/RAM"
                    data-description="{{:: $ctrl.notebook.spec.resources.cpu + 'x ' + $ctrl.notebook.getSelectedFlavor($ctrl.flavors).description }}"
                ></oui-tile-definition>

                <!--Local storage-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_resources_local_storage' | translate}}"
                    data-description="{{:: $ctrl.notebook.getSelectedFlavor($ctrl.flavors).ramMB | cucBytes:0:false:'GB'  }}"
                ></oui-tile-definition>

                <!--Life consumption-->
                <oui-tile-definition
                    data-term="{{:: 'pci_notebooks_general_information_resources_monitoring' | translate}}"
                >
                    <oui-tile-description>
                        <a class="oui-button oui-button_secondary"
                           data-ng-href="{{:: $ctrl.notebook.status.monitoringUrl}}"
                           target="_blank" rel="noopener">
                            <span data-translate="pci_notebooks_general_information_resources_monitoring_access_to_graph"></span>
                            <span class="oui-icon oui-icon-external-link" aria-hidden="true"></span>
                        </a>
                    </oui-tile-description>
                </oui-tile-definition>
            </oui-tile>
        </div>
    </div>

    <div class="row py-4">
        <div class="col-md">
            <oui-tile
                data-heading="{{ 'pci_notebooks_general_information_automation_creation_title' | translate }}"
                data-description="{{:: 'pci_notebooks_general_information_automation_creation_description' | translate}}"
            >
                <oui-tile-description>
                    <p>
                        <span
                            data-translate="pci_notebooks_general_information_automation_creation_info"
                        ></span>
                        <a
                            class="oui-link_icon"
                            data-ng-href="{{$ctrl.notebook.automationInfoLink}}"
                            target="_blank"
                            rel="noopener"
                        >
                            <span
                                data-translate="pci_notebooks_general_information_automation_creation_info_link"
                            ></span>
                            <span
                                class="oui-icon oui-icon-external-link"
                                aria-hidden="true"
                            ></span>
                        </a>
                    </p>
                </oui-tile-description>
            </oui-tile>
        </div>
    </div>
</div>
